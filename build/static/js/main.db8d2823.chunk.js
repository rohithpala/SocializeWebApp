(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{152:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){},179:function(e,t,a){},180:function(e,t,a){},181:function(e,t,a){},182:function(e,t,a){},183:function(e,t,a){},344:function(e,t,a){},345:function(e,t,a){},346:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(29),r=a.n(s),i=(a(152),a(153),a(15)),o=a(10),u=(a(154),a(13)),p=a(8),l=a.n(p),j=a(24),d=a(4),b=a.n(d),h="LOGIN_SUCCESS",O="LOGIN_FAIL",m="SIGNUP_SUCCESS",v="SIGNUP_FAIL",f="ACTIVATION_SUCCESS",x="ACTIVATION_FAIL",g="USER_LOADED_SUCCESS",w="USER_LOADED_FAIL",S="AUTHENTICATED_SUCCESS",N="AUTHENTICATED_FAIL",y="PASSWORD_RESET_FAIL",C="PASSWORD_RESET_SUCCESS",_="PASSWORD_RESET_CONFIRM_FAIL",A="PASSWORD_RESET_CONFIRM_SUCCESS",k="LOGOUT",I=function(){return function(){var e=Object(j.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("access")){e.next=14;break}return a={headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.prev=2,e.next=5,b.a.get("".concat("https://socialize-webapp.herokuapp.com","/auth/users/me/"),a);case 5:n=e.sent,t({type:g,payload:n.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t({type:w});case 12:e.next=15;break;case 14:t({type:w});case 15:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},P=a(2),D=Object(u.b)((function(e){return{isAuthenticated:e.isAuthenticated}}),{logout:function(){return function(e){e({type:k})}}})((function(e){var t=e.logout,a=e.isAuthenticated;return Object(P.jsxs)("div",{className:"navbarHomeMainDiv",children:[Object(P.jsx)(i.b,{to:a?"/home":"/",className:"appTitleHome",children:"Socialize"}),a?Object(P.jsx)(i.b,{to:"/",onClick:t,children:Object(P.jsx)("button",{className:"navBarLogoutButton",children:"Logout"})}):Object(P.jsx)(n.Fragment,{children:Object(P.jsx)("div",{className:"navBarHomeButtonsDiv",children:Object(P.jsx)(i.b,{to:"/signup",children:Object(P.jsx)("button",{className:"navBarHomeButton",children:"Sign up"})})})})]})})),E=a(16),T=a(3),L=a(5),B=(a(179),Object(u.b)((function(e){return{isAuthenticated:e.isAuthenticated}}),{signup:function(e,t,a,n){return function(){var c=Object(j.a)(l.a.mark((function c(s){var r,i,o,u;return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r={headers:{"Content-Type":"application/json"}},i=JSON.stringify({name:e,email:t,password:a,re_password:n}),o={method:"post",url:"https://api.chatengine.io/users/",headers:{"PRIVATE-KEY":"a7fce0f4-f9f6-41b8-bc64-5de01307219d"},data:{username:t,secret:a}},c.prev=4,c.next=7,b.a.post("".concat("https://socialize-webapp.herokuapp.com","/auth/users/"),i,r);case 7:return u=c.sent,c.next=10,b()(o);case 10:c.sent,s({type:m,payload:u.data}),s(I()),c.next=18;break;case 15:c.prev=15,c.t0=c.catch(4),s({type:v});case 18:case"end":return c.stop()}}),c,null,[[4,15]])})));return function(e){return c.apply(this,arguments)}}()}})((function(e){var t=e.signup,a=e.isAuthenticated,c=Object(n.useState)(!1),s=Object(L.a)(c,2),r=s[0],u=s[1],p=Object(n.useState)({name:"",email:"",password:"",re_password:""}),l=Object(L.a)(p,2),j=l[0],d=l[1],b=j.name,h=j.email,O=j.password,m=j.re_password;return a?Object(P.jsx)(o.a,{to:{pathname:"/home",state:{isAuthenticated:!0,email:h,secret:O}}}):r?Object(P.jsx)(o.a,{to:"/"}):Object(P.jsxs)("div",{className:"signupMainDiv",children:[Object(P.jsx)("span",{className:"signupHeading",children:"Sign up"}),Object(P.jsx)("input",{name:"name",className:"signupNameInput",placeholder:"Name*",type:"text",value:b,onChange:function(e){return d(Object(T.a)(Object(T.a)({},j),{},Object(E.a)({},e.target.name,e.target.value)))}}),Object(P.jsx)("input",{name:"email",className:"signupEmailIdInput",placeholder:"Email*",type:"email",value:h,onChange:function(e){return d(Object(T.a)(Object(T.a)({},j),{},Object(E.a)({},e.target.name,e.target.value)))}}),Object(P.jsx)("input",{name:"password",className:"signupPasswordInput",placeholder:"Password*",type:"password",value:O,onChange:function(e){return d(Object(T.a)(Object(T.a)({},j),{},Object(E.a)({},e.target.name,e.target.value)))}}),Object(P.jsx)("input",{name:"re_password",className:"signupPasswordInput",placeholder:"Re-enter Password*",type:"password",value:m,onChange:function(e){return d(Object(T.a)(Object(T.a)({},j),{},Object(E.a)({},e.target.name,e.target.value)))}}),Object(P.jsx)("div",{className:"signupButtonDiv",children:Object(P.jsx)("button",{onClick:function(e){e.preventDefault(),O===m&&(t(b,h,O,m),u(!0))},className:"signupButton",children:"Sign up"})}),Object(P.jsxs)("div",{className:"alreadyHaveAccountTextDiv",children:[Object(P.jsx)("span",{children:"Already have an account? "}),Object(P.jsx)(i.b,{className:"signupLink",to:"/",children:"Login"})]})]})}))),F=(a(180),Object(u.b)((function(e){return{isAuthenticated:e.isAuthenticated}}),{login:function(e,t){return function(){var a=Object(j.a)(l.a.mark((function a(n){var c,s,r;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c={headers:{"Content-Type":"application/json"}},s=JSON.stringify({email:e,password:t}),a.prev=2,a.next=5,b.a.post("".concat("https://socialize-webapp.herokuapp.com","/auth/jwt/create/"),s,c);case 5:r=a.sent,n({type:h,payload:r.data}),n(I()),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(2),console.log(a.t0),n({type:O});case 14:case"end":return a.stop()}}),a,null,[[2,10]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.login,a=e.isAuthenticated,c=Object(n.useState)({email:"",password:""}),s=Object(L.a)(c,2),r=s[0],u=s[1],p=r.email,l=r.password;return a?Object(P.jsx)(o.a,{to:{pathname:"/home",state:{isAuthenticated:!0,email:p,secret:l}}}):Object(P.jsxs)("div",{className:"loginMainDiv",children:[Object(P.jsx)("span",{className:"loginHeading",children:"Login"}),Object(P.jsx)("input",{name:"email",className:"loginEmailIdInput",placeholder:"Email",type:"email",value:p,onChange:function(e){return u(Object(T.a)(Object(T.a)({},r),{},Object(E.a)({},e.target.name,e.target.value)))}}),Object(P.jsx)("input",{name:"password",className:"loginPasswordInput",placeholder:"Password",type:"password",value:l,onChange:function(e){return u(Object(T.a)(Object(T.a)({},r),{},Object(E.a)({},e.target.name,e.target.value)))}}),Object(P.jsx)("div",{className:"forgotPassDiv",children:Object(P.jsx)(i.b,{className:"forgotPassLink",to:"/reset-password",children:"Forgot password?"})}),Object(P.jsx)("div",{className:"loginButtonDiv",children:Object(P.jsx)("button",{onClick:function(e){e.preventDefault(),t(p,l)},className:"loginButton",children:"Login"})}),Object(P.jsxs)("div",{className:"dontHaveAccountTextDiv",children:[Object(P.jsx)("span",{children:"Don't have an account? "}),Object(P.jsx)(i.b,{className:"signupLink",to:"/signup",children:"Signup"})]})]})}))),R=(a(181),Object(u.b)(null,{reset_password:function(e){return function(){var t=Object(j.a)(l.a.mark((function t(a){var n,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={headers:{"Content-Type":"application/json"}},c=JSON.stringify({email:e}),t.prev=2,t.next=5,b.a.post("".concat("https://socialize-webapp.herokuapp.com","/auth/users/reset_password/"),c,n);case 5:a({type:C}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),a({type:y});case 11:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.reset_password,a=Object(n.useState)(!1),c=Object(L.a)(a,2),s=c[0],r=c[1],i=Object(n.useState)({email:""}),u=Object(L.a)(i,2),p=u[0],l=u[1],j=p.email;return s?Object(P.jsx)(o.a,{to:"/"}):Object(P.jsx)("div",{className:"resetPasswordMainDiv",children:Object(P.jsxs)("div",{className:"resetPasswordSubMainDiv",children:[Object(P.jsx)("span",{className:"resetPasswordRequestHeading",children:"Request Password reset"}),Object(P.jsx)("input",{name:"email",className:"resetPasswordEmailIdInput",placeholder:"Email*",type:"email",value:j,onChange:function(e){return l(Object(T.a)(Object(T.a)({},p),{},Object(E.a)({},e.target.name,e.target.value)))}}),Object(P.jsx)("div",{className:"resetPasswordButtonDiv",children:Object(P.jsx)("button",{onClick:function(e){e.preventDefault(),t(j),r(!0)},className:"resetPasswordButton",children:"Reset Password"})})]})})}))),U=(a(182),Object(u.b)(null,{reset_password_confirm:function(e,t,a,n){return function(){var c=Object(j.a)(l.a.mark((function c(s){var r,i;return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r={headers:{"Content-Type":"application/json"}},i=JSON.stringify({uid:e,token:t,new_password:a,re_new_password:n}),c.prev=2,c.next=5,b.a.post("".concat("https://socialize-webapp.herokuapp.com","/auth/users/reset_password_confirm/"),i,r);case 5:s({type:A}),c.next=11;break;case 8:c.prev=8,c.t0=c.catch(2),s({type:_});case 11:case"end":return c.stop()}}),c,null,[[2,8]])})));return function(e){return c.apply(this,arguments)}}()}})((function(e){var t=e.match,a=e.reset_password_confirm,c=Object(n.useState)(!1),s=Object(L.a)(c,2),r=s[0],i=s[1],u=Object(n.useState)({new_password:"",re_new_password:""}),p=Object(L.a)(u,2),l=p[0],j=p[1],d=l.new_password,b=l.re_new_password;return r?Object(P.jsx)(o.a,{to:"/"}):Object(P.jsx)("div",{className:"resetPCMainDiv",children:Object(P.jsxs)("div",{className:"resetPCSubMainDiv",children:[Object(P.jsx)("span",{className:"resetPCHeading",children:"Set new password"}),Object(P.jsx)("input",{name:"new_password",className:"resetPCPasswordInput",placeholder:"New Password*",type:"password",value:d,onChange:function(e){return j(Object(T.a)(Object(T.a)({},l),{},Object(E.a)({},e.target.name,e.target.value)))}}),Object(P.jsx)("input",{name:"re_new_password",className:"resetPCPasswordInput",placeholder:"Confirm New Password*",type:"password",value:b,onChange:function(e){return j(Object(T.a)(Object(T.a)({},l),{},Object(E.a)({},e.target.name,e.target.value)))}}),Object(P.jsx)("div",{className:"resetPCButtonDiv",children:Object(P.jsx)("button",{onClick:function(e){e.preventDefault();var n=t.params.uid,c=t.params.token;a(n,c,d,b),i(!0)},className:"resetPCButton",children:"Reset Password"})})]})})}))),M=Object(u.b)(null,{checkAuthenticated:function(){return function(){var e=Object(j.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("access")){e.next=15;break}return a={headers:{"Content-Type":"application/json",Accept:"application/json"}},n=JSON.stringify({token:localStorage.getItem("access")}),e.prev=3,e.next=6,b.a.post("".concat("https://socialize-webapp.herokuapp.com","/auth/jwt/verify/"),n,a);case 6:"token_not_valid"!==e.sent.data.code?t({type:S}):t({type:N}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),t({type:N});case 13:e.next=16;break;case 15:t({type:N});case 16:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},load_user:I})((function(e){return Object(n.useEffect)((function(){e.checkAuthenticated(),e.load_user()}),[]),Object(P.jsx)("div",{children:e.children})})),H=a(67),z=a(145),J=a(146),W={access:localStorage.getItem("access"),refresh:localStorage.getItem("refresh"),isAuthenticated:null,user:null},G=[J.a],V=Object(H.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case S:return Object(T.a)(Object(T.a)({},e),{},{isAuthenticated:!0});case h:return localStorage.setItem("access",n.access),Object(T.a)(Object(T.a)({},e),{},{isAuthenticated:!0,access:n.access,refresh:n.refresh});case m:return Object(T.a)(Object(T.a)({},e),{},{isAuthenticated:!1});case g:return Object(T.a)(Object(T.a)({},e),{},{user:n,isAuthenticated:!0});case N:return Object(T.a)(Object(T.a)({},e),{},{isAuthenticated:!1});case w:return Object(T.a)(Object(T.a)({},e),{},{user:null});case O:case v:case k:return localStorage.removeItem("access"),localStorage.removeItem("refresh"),Object(T.a)(Object(T.a)({},e),{},{access:null,isAuthenticated:!1,user:null});case y:case C:case _:case A:case x:case f:return Object(T.a)({},e);default:return e}}),{},Object(z.composeWithDevTools)(H.applyMiddleware.apply(void 0,G))),q=(a(183),Object(u.b)(null,{verify:function(e,t){return function(){var a=Object(j.a)(l.a.mark((function a(n){var c,s;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c={headers:{"Content-Type":"application/json"}},s=JSON.stringify({uid:e,token:t}),a.prev=2,a.next=5,b.a.post("".concat("https://socialize-webapp.herokuapp.com","/auth/users/activation/"),s,c);case 5:n({type:f}),n(I()),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),n({type:x});case 12:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.verify,a=e.match,c=Object(n.useState)(!1),s=Object(L.a)(c,2),r=s[0],i=s[1];return r?Object(P.jsx)(o.a,{to:"/"}):Object(P.jsx)("div",{className:"activateMainDiv",children:Object(P.jsxs)("div",{className:"activateSubMainDiv",children:[Object(P.jsx)("span",{className:"verifyHeading",children:"Verify your Account"}),Object(P.jsx)("button",{className:"verifyButton",onClick:function(e){var n=a.params.uid,c=a.params.token;t(n,c),i(!0)},children:"Verify"})]})})}))),K=a(94),Y=(a(344),function(){var e=Object(n.useState)(""),t=Object(L.a)(e,2),a=t[0],c=t[1];try{var s=function(e){return Object(P.jsxs)("div",{className:"homeCreateDMDiv",children:[Object(P.jsx)("input",{className:"homeUsernameInput",placeholder:"Username",value:a,onChange:function(e){return c(e.target.value)}}),Object(P.jsx)("button",{className:"homeCreateButton",onClick:function(){return function(e){Object(K.n)(e,{is_direct_chat:!0,usernames:[a]},(function(){return c("")}))}(e)},children:"Create"})]})},r=Object(o.g)().state,i=r.isAuthenticated,u=r.email,p=r.secret;if(console.log(i),i)return Object(P.jsx)(K.d,{height:"calc(100vh - 66px)","font-family":"Poppins",projectID:"648e4821-3514-498a-9879-75c960e463de",userName:u,userSecret:p,renderNewChatForm:function(e){return s(e)}})}catch(l){return Object(P.jsx)(o.a,{to:"/"})}}),Q=(a(345),a.p+"static/media/404NotFound.fe8bd0bb.svg"),X=function(){return Object(P.jsxs)("div",{className:"notFoundPageMainDiv",children:[Object(P.jsx)("img",{alt:"img",className:"img",src:Q}),Object(P.jsx)("span",{className:"notFoundText",children:"Page not found"})]})};var Z=function(){return Object(P.jsx)(u.a,{store:V,children:Object(P.jsx)(i.a,{children:Object(P.jsxs)(M,{children:[Object(P.jsx)(D,{}),Object(P.jsx)("div",{className:"appBottomDiv",children:Object(P.jsxs)(o.d,{children:[Object(P.jsx)(o.b,{exact:!0,path:"/",component:F}),Object(P.jsx)(o.b,{exact:!0,path:"/signup",component:B}),Object(P.jsx)(o.b,{exact:!0,path:"/reset-password",component:R}),Object(P.jsx)(o.b,{exact:!0,path:"/password/reset/confirm/:uid/:token",component:U}),Object(P.jsx)(o.b,{exact:!0,path:"/activate/:uid/:token",component:q}),Object(P.jsx)(o.b,{exact:!0,path:"/home",component:Y}),Object(P.jsx)(o.b,{exact:!0,path:"/*",component:X})]})})]})})})},$=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,349)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};r.a.render(Object(P.jsx)(c.a.StrictMode,{children:Object(P.jsx)(Z,{})}),document.getElementById("root")),$()}},[[346,1,2]]]);
//# sourceMappingURL=main.db8d2823.chunk.js.map